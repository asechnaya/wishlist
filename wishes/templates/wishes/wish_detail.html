<!-- wishes/templates/wishes/wish_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ wish.title }}{% endblock %}

{% block content %}
    <div class="bg-white p-8 rounded-xl shadow-xl border border-gray-200 max-w-4xl mx-auto">
        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">{{ wish.title }}</h2>

        <div class="flex flex-col md:flex-row md:space-x-8">
            <div class="flex-shrink-0 md:w-1/2 mb-6 md:mb-0">
                {% if wish.image %}
                    <img src="{{ wish.image.url }}" alt="{{ wish.title }}" class="w-full h-auto object-cover rounded-xl shadow-lg border border-gray-200">
                {% else %}
                    <div class="w-full h-96 bg-gray-200 flex items-center justify-center text-gray-500 text-xl rounded-xl border border-gray-200">
                        <span>No Image</span>
                    </div>
                {% endif %}
            </div>

            <div class="flex-grow">
                <p class="text-3xl font-extrabold text-indigo-600 mb-6">
                    {% if wish.price %}{{ wish.price }}{% else %}N/A{% endif %}
                </p>

                <div class="mb-6">
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">Details</h3>
                    <ul class="space-y-2 text-gray-700">
                        <li><strong>Added by:</strong> <a href="{% url 'public_wish_list' wish.user.username %}" class="text-green-600 hover:underline transition-colors duration-200">{{ wish.user.username }}</a></li>
                        <li><strong>Added On:</strong> {{ wish.created_at|date:"F d, Y P" }}</li>
                        {% if wish.shop_link %}
                            <li>
                                <strong>Shop Link:</strong>
                                <a href="{{ wish.shop_link }}" target="_blank" class="text-indigo-600 hover:underline">
                                    {{ wish.shop_link }}
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </div>

                {% if wish.description %}
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Description</h3>
                        <p class="text-gray-700 leading-relaxed">{{ wish.description }}</p>
                    </div>
                {% endif %}

                {% if wish.tags.all %}
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Tags</h3>
                        <div class="flex flex-wrap gap-2">
                            {% for tag in wish.tags.all %}
                                <a href="{% url 'wish_list' %}?tag={{ tag.name }}" class="tag-link">{{ tag.name }}</a>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}

                <div class="mt-8 flex flex-wrap items-center space-x-4">
                    <a href="{% url 'wish_list' %}" class="button button-secondary">Back to My Wishlist</a>
                    {% if user.is_authenticated and user == wish.user %}
                        <a href="{% url 'edit_wish' wish.pk %}" class="button button-warning">Edit Wish</a>
                        <a href="{% url 'delete_wish' wish.pk %}" class="button button-danger">Delete Wish</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
