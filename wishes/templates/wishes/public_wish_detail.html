<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wish Detail</title>
</head>
<body class="bg-gray-100 font-sans text-gray-800">
    {% extends 'base.html' %}

    {% block content %}
    <div class="wish-card-detail">
        {% if is_owner %}
            <div class="flex justify-end mb-4 space-x-2">
                <a href="{% url 'edit_wish' wish.pk %}" class="button button-warning">
                    Edit Wish
                </a>
                <a href="{% url 'delete_wish' wish.pk %}" class="button button-danger">
                    Delete Wish
                </a>
            </div>
        {% endif %}

        <div class="md:flex md:items-start md:space-x-8">
            <div class="w-full md:w-1/2">
                {% if wish.image %}
                    <img src="{{ wish.image.url }}" alt="{{ wish.title }}" class="w-full rounded-xl shadow-lg border border-gray-200">
                {% else %}
                    <div class="w-full h-80 bg-gray-200 rounded-xl flex items-center justify-center text-gray-500 shadow-lg border border-gray-200">No Image</div>
                {% endif %}
            </div>
            
            <div class="w-full md:w-1/2 mt-8 md:mt-0">
                <h1 class="text-3xl font-extrabold text-gray-900 leading-tight mb-2">{{ wish.title }}</h1>
                <p class="text-gray-500 mb-4">Wished by <a href="{% url 'public_wish_list' owner.username %}" class="font-semibold text-indigo-700 hover:underline">{{ owner.username }}</a></p>
                
                <div class="mb-6">
                    <span class="text-3xl font-extrabold text-purple-700">{{ wish.price }}</span>
                </div>
                
                <p class="text-sm text-gray-700 mb-4">{{ wish.description }}</p>

                <div class="space-y-2 text-sm text-gray-600">
                    <p><strong>Added on:</strong> {{ wish.created_at|date:"F d, Y P" }}</p>
                    <p><strong>Shop link:</strong> {% if wish.shop_link %}<a href="{{ wish.shop_link }}" target="_blank" class="text-blue-600 hover:underline">{{ wish.shop_link }}</a>{% else %}N/A{% endif %}</p>
                </div>

                {% if wish.tags.all %}
                    <div class="mt-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-2">Tags:</h3>
                        <div class="flex flex-wrap gap-2">
                            {% for tag in wish.tags.all %}
                                <a href="{% url 'public_wish_list' owner.username %}?tag={{ tag.name }}" class="tag-link hover:bg-purple-400">{{ tag.name }}</a>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% endblock %}
</body>
</html>
